webpackJsonp([2,0],{0:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=s(31),a=n(r),i=s(76),u=n(i),o=s(32),c=n(o);s(71),s(70),new a.default({el:"#app",router:c.default,render:function(t){return t(u.default)}})},18:function(t,e,s){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.fetchArtistTopTracks=e.fetchArtistById=e.fetchAlbumById=e.fetchByType=void 0;var r=s(39),a=n(r),i="https://api.spotify.com/v1";e.fetchByType=function(e,s){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return t(i+"/search?q="+e+"&type="+s+"&offset="+n+"&limit="+r).then(function(t){return t.json()}).then(function(t){switch(s){case"Artist":return t.artists.items.map(function(t){return(0,a.default)({},t,{imageUrl:t.images&&t.images.length>0?t.images.slice(-1)[0].url:null})});case"Album":return t.albums.items.map(function(t){return(0,a.default)({},t,{imageUrl:t.images&&t.images.length>0?t.images.slice(-1)[0].url:null})});case"Track":return t.tracks.items.map(function(t){return(0,a.default)({},t,{imageUrl:t.album.images&&t.album.images.length>0?t.album.images.slice(-1)[0].url:null})});default:return[]}})},e.fetchAlbumById=function(e){return t(i+"/albums/"+e).then(function(t){return t.json()})},e.fetchArtistById=function(e){return t(i+"/artists/"+e).then(function(t){return t.json()})},e.fetchArtistTopTracks=function(e){return t(i+"/artists/"+e+"/top-tracks?country=US").then(function(t){return t.json()})}}).call(e,s(75))},30:function(t,e,s){var n,r;s(72),n=s(36);var a=s(79);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-09f8825c",t.exports=n},32:function(t,e,s){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(31),a=n(r),i=s(83),u=n(i),o=s(30),c=n(o),l=s(77),h=n(l);a.default.use(u.default),e.default=new u.default({mode:"hash",base:t,routes:[{path:"/:type/detail/:id",component:h.default},{path:"/:type/:query?",component:c.default},{path:"*",redirect:"/Artist/"}]})}).call(e,"/")},33:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(78),a=n(r),i=s(30),u=n(i);e.default={name:"app",components:{SearchBox:a.default,SearchResults:u.default}}},34:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(18);e.default={name:"result-detail",data:function(){return{album:null,artist:null,topTracks:[]}},created:function(){var t=this;switch(this.type=this.$route.params.type,this.type){case"Artist":(0,n.fetchArtistById)(this.$route.params.id).then(function(e){t.artist=e,t.imageSrc=e.images?e.images[0].url:null}),(0,n.fetchArtistTopTracks)(this.$route.params.id).then(function(e){t.topTracks=e.tracks});break;case"Album":case"Track":(0,n.fetchAlbumById)(this.$route.params.id).then(function(e){t.album=e,t.artist=e.artists?e.artists[0]:null,t.imageSrc=e.images?e.images[0].url:null});break;default:return}}}},35:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"search-box",computed:{activeType:function(){return this.$route.params.type}},created:function(){this.onRouteChanged()},methods:{searchByType:function(){this.$router.push("/"+this.activeType+"/"+encodeURI(this.query)||"")},toggleDropdown:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.displaySearchTypes=!1:this.displaySearchTypes=!this.displaySearchTypes},isDropDownOpen:function(){return{open:this.displaySearchTypes}},onRouteChanged:function(){this.toggleDropdown(!0);var t=this.$route.params.query;t&&this.query!==t&&(this.query=t)}},data:function(){return{displaySearchTypes:!1,query:"",searchTypes:["Artist","Album","Track"]}},watch:{$route:"onRouteChanged"}}},36:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(40),a=n(r),i=s(18),u="UP";e.default={name:"search-results",created:function(){this.routeChanged()},data:function(){return{hasMoreResults:!1,searchResults:[],type:null,query:null,offset:0}},methods:{routeChanged:function(){var t=this;return this.type=this.$route.params.type,this.query=this.$route.params.query,this.offset=0,this.query?void(0,i.fetchByType)(this.query,this.type).then(function(e){t.hasMoreResults=e.length>=10,t.searchResults=e,t.handleScroll(u)}):void(this.searchResults=[])},loadMoreResults:function(){var t=this;this.offset+=10,(0,i.fetchByType)(this.query,this.type,this.offset).then(function(e){t.hasMoreResults=e.length>=10,t.searchResults=[].concat((0,a.default)(t.searchResults),(0,a.default)(e))})},goToDetail:function(t){switch(this.type){case"Artist":case"Album":this.$router.push("/"+this.type+"/detail/"+t.id);break;case"Track":this.$router.push("/"+this.type+"/detail/"+t.album.id);break;default:return}},handleScroll:function(t){this.$nextTick(function(){switch(t){case u:window.scrollTo(0,0);break;default:window.scrollTo(0,document.body.scrollHeight)}})},resultInfo:function(t){switch(this.type){case"Artist":return t.genres?t.genres.join(", "):null;case"Album":return t.artists?t.artists[0].name:null;case"Track":return t.album&&t.artists?t.album.name+" by "+t.artists[0].name:null}}},watch:{$route:"routeChanged"}}},70:function(t,e){},71:function(t,e){},72:function(t,e){},73:function(t,e){},74:function(t,e){},76:function(t,e,s){var n,r;s(74),n=s(33);var a=s(82);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=n},77:function(t,e,s){var n,r;n=s(34);var a=s(81);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=n},78:function(t,e,s){var n,r;s(73),n=s(35);var a=s(80);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-51595fb2",t.exports=n},79:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"container"},[_h("ul",{staticClass:"list-group"},[_l(searchResults,function(t){return _h("li",{staticClass:"list-group-item",on:{click:function(e){goToDetail(t)}}},[_h("div",{staticClass:"media"},[_h("div",{staticClass:"media-left"},[t.imageUrl?_h("img",{staticClass:"media-object",attrs:{src:t.imageUrl,height:"64px",width:"64px"}}):_e()]),_h("div",{staticClass:"media-body"},[_h("h4",{staticClass:"media-heading"},[_s(t.name)]),_h("p",[_s(resultInfo(t))])])])])})]),hasMoreResults?_h("button",{staticClass:"btn btn-default center-block",on:{click:function(t){loadMoreResults()}}},[_m(0)]):_e()])},staticRenderFns:[function(){with(this)return _h("span",["Show more results"])}]}},80:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"container fixed-top"},[_h("div",{staticClass:"input-group"},[_h("input",{directives:[{name:"model",rawName:"v-model",value:query,expression:"query"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:_s(query)},on:{input:function(t){t.target.composing||(query=t.target.value)}}}),_h("div",{staticClass:"input-group-btn",class:isDropDownOpen()},[_h("button",{staticClass:"btn btn-success",on:{click:function(t){searchByType()}}},[_s(activeType)]),_h("button",{staticClass:"btn btn-success dropdown-toggle",on:{click:function(t){toggleDropdown()}}},[_m(0)]),_h("ul",{staticClass:"dropdown-menu dropdown-menu-right"},[_l(searchTypes,function(t){return _h("li",[_h("router-link",{attrs:{to:"/"+t+"/"+query}},[_s(t)])])})])])])])},staticRenderFns:[function(){with(this)return _h("span",{staticClass:"caret"})}]}},81:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"container"},["Artist"!==type&&album?_h("div",{staticClass:"row"},[_h("div",{staticClass:"col-md-6"},[_h("h2",[_s(album.name)]),_h("img",{staticClass:"img-responsive",attrs:{src:imageSrc}}),_h("h4",["Artist: "+_s(artist.name)]),_h("h4",["Release Date: "+_s(album.release_date)]),_h("h4",["Popularity: "+_s(album.popularity)]),_h("a",{attrs:{href:album.external_urls.spotify,target:"_blank"}},[_m(0)])]),_h("div",{staticClass:"col-md-6"},[_m(1),_l(album.tracks.items,function(t){return _h("div",{staticClass:"panel panel-default"},[_h("div",{staticClass:"panel-body"},[_h("h4",[_s(t.track_number)+". "+_s(t.name)]),_h("audio",{attrs:{src:t.preview_url,controls:"controls"}})])])})])]):_e(),"Artist"===type&&artist?_h("div",{staticClass:"row"},[_h("div",{staticClass:"col-md-6"},[_h("h2",[_s(artist.name)]),_h("img",{staticClass:"img-responsive",attrs:{src:imageSrc}}),_h("h4",["Followers: "+_s(artist.followers.total)]),_h("h4",["Popularity: "+_s(artist.popularity)]),_h("a",{attrs:{href:artist.external_urls.spotify,target:"_blank"}},[_m(2)]),artist.genres?_h("p",[_s(artist.genres.join(", "))]):_e()]),_h("div",{staticClass:"col-md-6"},[_m(3),_l(topTracks,function(t){return _h("div",{staticClass:"panel panel-default"},[_h("div",{staticClass:"panel-body"},[_h("h4",[_s(t.name)+" - "+_s(t.album.name)]),_h("audio",{attrs:{src:t.preview_url,controls:"controls"}})])])})])]):_e()])},staticRenderFns:[function(){with(this)return _h("h4",["Spotify Link"])},function(){with(this)return _h("h2",["Tracks"])},function(){with(this)return _h("h4",["Spotify Link"])},function(){with(this)return _h("h2",["Top 10 Tracks"])}]}},82:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"app"}},[_h("search-box"),_h("router-view")])},staticRenderFns:[]}}});
//# sourceMappingURL=app.e2352782e40be2ba7678.js.map