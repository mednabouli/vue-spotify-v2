webpackJsonp([2,0],{0:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=s(30),a=n(r),u=s(74),o=n(u),i=s(32),c=n(i);s(70),s(69),new a.default({el:"#app",router:c.default,render:function(t){return t(o.default)}})},29:function(t,e,s){var n,r;n=s(35);var a=s(76);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=n},31:function(t,e,s){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.fetchByType=void 0;var r=s(38),a=n(r),u="https://api.spotify.com/v1/search?q=";e.fetchByType=function(e,s){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return t(u+e+"&type="+s+"&offset="+n+"&limit="+r).then(function(t){return t.json()}).then(function(t){switch(s){case"Artist":return t.artists.items.map(function(t){return(0,a.default)({},t,{imageUrl:t.images&&t.images.length>0?t.images.slice(-1)[0].url:null})});case"Album":return t.albums.items.map(function(t){return(0,a.default)({},t,{imageUrl:t.images&&t.images.length>0?t.images.slice(-1)[0].url:null})});case"Track":return t.tracks.items.map(function(t){return(0,a.default)({},t,{imageUrl:t.album.images&&t.album.images.length>0?t.album.images.slice(-1)[0].url:null})});default:return[]}})}}).call(e,s(73))},32:function(t,e,s){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(30),a=n(r),u=s(79),o=n(u),i=s(29),c=n(i);a.default.use(o.default),e.default=new o.default({mode:"hash",base:t,routes:[{path:"/:type",component:c.default,children:[{path:":query"}]},{path:"*",redirect:"/Artist"}]})}).call(e,"/")},33:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(75),a=n(r),u=s(29),o=n(u);e.default={name:"app",components:{SearchBox:a.default,SearchResults:o.default}}},34:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"search-box",computed:{activeType:function(){return this.$route.params.type}},created:function(){this.onRouteChanged()},methods:{searchByType:function(){this.$router.push("/"+this.activeType+"/"+encodeURI(this.query)||"")},toggleDropdown:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.displaySearchTypes=!1:this.displaySearchTypes=!this.displaySearchTypes},isDropDownOpen:function(){return{open:this.displaySearchTypes}},onRouteChanged:function(){this.toggleDropdown(!0);var t=this.$route.params.query;t&&this.query!==t&&(this.query=t)}},data:function(){return{displaySearchTypes:!1,query:"",searchTypes:["Artist","Album","Track"]}},watch:{$route:"onRouteChanged"}}},35:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(39),a=n(r),u=s(31),o="UP";e.default={name:"search-results",created:function(){this.routeChanged()},data:function(){return{hasMoreResults:!0,searchResults:[],offset:0}},methods:{routeChanged:function(){var t=this;this.offset=0,this.hasMoreResults=!0;var e=this.$route.params.type,s=this.$route.params.query;return s?void(0,u.fetchByType)(s,e).then(function(e){t.searchResults=e,t.handleScroll(o)}):void(this.searchResults=[])},loadMoreResults:function(){var t=this,e=this.$route.params.type,s=this.$route.params.query;this.offset+=10,(0,u.fetchByType)(s,e,this.offset).then(function(e){e.length<10&&(t.hasMoreResults=!1),t.searchResults=[].concat((0,a.default)(t.searchResults),(0,a.default)(e))})},handleScroll:function(t){this.$nextTick(function(){switch(t){case o:window.scrollTo(0,0);break;default:window.scrollTo(0,document.body.scrollHeight)}})}},watch:{$route:"routeChanged"}}},69:function(t,e){},70:function(t,e){},71:function(t,e){},72:function(t,e){},74:function(t,e,s){var n,r;s(72),n=s(33);var a=s(78);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,t.exports=n},75:function(t,e,s){var n,r;s(71),n=s(34);var a=s(77);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-51595fb2",t.exports=n},76:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"container"},[_h("ul",{staticClass:"list-group"},[_l(searchResults,function(t){return _h("li",{staticClass:"list-group-item"},[_h("div",{staticClass:"media"},[_h("div",{staticClass:"media-left"},[t.imageUrl?_h("img",{staticClass:"media-object",attrs:{src:t.imageUrl,height:"64px",width:"64px"}}):_e()]),_h("div",{staticClass:"media-body"},[_h("h4",{staticClass:"media-heading"},[_s(t.name)])])])])})]),hasMoreResults?_h("button",{staticClass:"btn btn-default center-block",on:{click:function(t){loadMoreResults()}}},[_m(0)]):_e()])},staticRenderFns:[function(){with(this)return _h("span",["Show more results"])}]}},77:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"container fixed-top"},[_h("div",{staticClass:"input-group"},[_h("input",{directives:[{name:"model",rawName:"v-model",value:query,expression:"query"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:_s(query)},on:{input:function(t){t.target.composing||(query=t.target.value)}}}),_h("div",{staticClass:"input-group-btn",class:isDropDownOpen()},[_h("button",{staticClass:"btn btn-success",on:{click:function(t){searchByType()}}},[_s(activeType)]),_h("button",{staticClass:"btn btn-success dropdown-toggle",on:{click:function(t){toggleDropdown()}}},[_m(0)]),_h("ul",{staticClass:"dropdown-menu dropdown-menu-right"},[_l(searchTypes,function(t){return _h("li",[_h("router-link",{attrs:{to:"/"+t+"/"+query}},[_s(t)])])})])])])])},staticRenderFns:[function(){with(this)return _h("span",{staticClass:"caret"})}]}},78:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"app"}},[_h("search-box"),_h("router-view")])},staticRenderFns:[]}}});
//# sourceMappingURL=app.da885165cbdbbb492519.js.map